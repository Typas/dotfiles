%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% preamble-code.sty
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\fileversion{0.2}
\def\filedate{2022/3/29}

\typeout{-- Package: ``preamble-code'' \fileversion\space <\filedate> --}
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{preamble-code}[\filedate\space\fileversion]

% load common use packages
\RequirePackage{minted} % code listing
\RequirePackage{xeCJK}
\RequirePackage{xcolor}
\RequirePackage{fontspec} % font styles

% settings

\setmonofont[
ItalicFont={JuliaMono RegularItalic},
BoldItalicFont={JuliaMono SemiBoldItalic},
BoldFont={Fira Code SemiBold},
StylisticSet={1, 3, 5, 8}
]{Fira Code}

\setCJKmonofont[
BoldFont={Noto Sans CJK TC Bold},
BoldItalicFont={Noto Sans CJK TC Medium},
ItalicFont={Noto Sans CJK TC Light}
]{Noto Sans CJK TC} % xeCJK

\@ifclassloaded{beamer} {
  \setminted{
    beameroverlays=true,
    fontsize=\scriptsize
  }
} {
  \setminted{
    frame=lines,
    linenos,
    fontsize=\footnotesize
  }
}

\setminted{
  breaklines,
  framesep=2mm,
}

% Terminator
\endinput
